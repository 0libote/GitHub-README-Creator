<!DOCTYPE html>
<html lang="en" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub README Creator</title>
    <meta name="description"
        content="Create professional GitHub README files with live preview, templates, and badge support.">

    <!-- Core Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect x=%2220%22 y=%2220%22 width=%2260%22 height=%2270%22 rx=%225%22 fill=%22%23fef3c7%22 stroke=%22%23d97706%22 stroke-width=%224%22/><path d=%22M30 10 L30 30 M50 10 L50 30 M70 10 L70 30%22 stroke=%22%234b5563%22 stroke-width=%226%22 stroke-linecap=%22round%22/><rect x=%2220%22 y=%2220%22 width=%2260%22 height=%2210%22 rx=%222%22 fill=%22%23d97706%22/><path d=%22M35 45 H65 M35 60 H65 M35 75 H55%22 stroke=%22%23d97706%22 stroke-width=%223%22 stroke-linecap=%22round%22/></svg>">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        github: {
                            canvas: '#0d1117',
                            header: '#010409',
                            border: '#30363d',
                            text: '#e6edf3',
                            muted: '#7d8590',
                            accent: '#2f81f7',
                            btn: '#21262d',
                            btnHover: '#30363d',
                            success: '#238636',
                            danger: '#da3633'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-github-canvas text-github-text font-sans h-screen flex flex-col overflow-hidden">
    <!-- Header -->
    <header class="bg-github-header border-b border-github-border px-4 py-3 flex items-center justify-between shrink-0">
        <div class="flex items-center gap-3">
            <i data-lucide="github" class="w-8 h-8"></i>
            <h1 class="text-base font-semibold">README Creator</h1>
        </div>
        <div class="flex items-center gap-2">
            <span id="char-count" class="text-xs text-github-muted mr-2">0 chars</span>
            <button id="copy-btn"
                class="flex items-center gap-2 px-3 py-1.5 bg-github-btn hover:bg-github-btnHover border border-github-border rounded-md text-sm transition-colors">
                <i data-lucide="copy" class="w-4 h-4"></i>
                <span>Copy</span>
            </button>
            <button id="download-btn"
                class="flex items-center gap-2 px-3 py-1.5 bg-github-success hover:brightness-110 text-white rounded-md text-sm font-medium transition-all">
                <i data-lucide="download" class="w-4 h-4"></i>
                <span>Download</span>
            </button>
        </div>
    </header>

    <!-- Variables Bar -->
    <div class="bg-github-header/50 border-b border-github-border px-4 py-2 flex items-center gap-4 shrink-0">
        <span class="text-xs text-github-muted font-medium flex items-center gap-2">
            <i data-lucide="settings" class="w-3.5 h-3.5"></i>
            Variables:
        </span>
        <div class="flex items-center gap-4 flex-1">
            <div class="flex items-center gap-2">
                <label class="text-xs text-github-muted">@</label>
                <input type="text" id="var-user" placeholder="username"
                    class="bg-github-canvas border border-github-border rounded px-2 py-1 text-sm outline-none focus:border-github-accent w-28">
            </div>
            <div class="flex items-center gap-2">
                <label class="text-xs text-github-muted">/</label>
                <input type="text" id="var-repo" placeholder="repository"
                    class="bg-github-canvas border border-github-border rounded px-2 py-1 text-sm outline-none focus:border-github-accent w-32">
            </div>
            <div class="flex items-center gap-2">
                <label class="text-xs text-github-muted">Title:</label>
                <input type="text" id="var-title" placeholder="Project Title"
                    class="bg-github-canvas border border-github-border rounded px-2 py-1 text-sm outline-none focus:border-github-accent w-40">
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="flex flex-1 overflow-hidden">
        <!-- Sidebar -->
        <aside id="main-sidebar" class="w-56 bg-github-header/30 border-r border-github-border flex flex-col shrink-0">
            <div class="p-3 border-b border-github-border">
                <h2 class="text-xs font-semibold text-github-muted uppercase tracking-wide">Components</h2>
            </div>
            <div id="sections-list" class="flex-1 overflow-y-auto p-2 custom-scrollbar">
                <!-- Rendered by JS -->
            </div>
            <div class="p-2 border-t border-github-border">
                <button id="clear-btn"
                    class="w-full flex items-center justify-center gap-2 px-3 py-2 text-github-muted hover:text-github-danger hover:bg-github-danger/10 rounded-md transition-colors text-xs">
                    <i data-lucide="trash-2" class="w-3.5 h-3.5"></i>
                    Reset Draft
                </button>
            </div>
        </aside>

        <!-- Editor & Preview -->
        <div class="flex-1 flex overflow-hidden">
            <!-- Editor Pane -->
            <div id="editor-pane" class="flex flex-col border-r border-github-border bg-github-canvas overflow-hidden"
                style="flex-basis: 50%;">
                <div
                    class="px-4 py-2 border-b border-github-border flex items-center gap-2 text-xs text-github-muted bg-github-header/30">
                    <i data-lucide="file-code" class="w-3.5 h-3.5"></i>
                    <span class="font-medium">Editor</span>
                </div>
                <textarea id="markdown-input"
                    class="flex-1 bg-github-canvas p-4 resize-none outline-none font-mono text-sm leading-relaxed custom-scrollbar"
                    placeholder="Start writing your README..."></textarea>
            </div>

            <!-- Resizer -->
            <div id="drag-handle"
                class="w-1 cursor-col-resize bg-github-border hover:bg-github-accent transition-colors relative">
                <div class="absolute inset-y-0 -left-1 -right-1"></div>
            </div>

            <!-- Preview Pane -->
            <div id="preview-pane" class="flex flex-col bg-github-canvas overflow-hidden" style="flex-basis: 50%;">
                <div
                    class="px-4 py-2 border-b border-github-border flex items-center gap-2 text-xs text-github-muted bg-github-header/30">
                    <i data-lucide="eye" class="w-3.5 h-3.5"></i>
                    <span class="font-medium">Preview</span>
                </div>
                <div id="markdown-preview" class="flex-1 overflow-y-auto p-6 markdown-body custom-scrollbar">
                    <!-- Rendered content -->
                </div>
            </div>
        </div>
    </main>

    <!-- Modal -->
    <div id="modal-overlay"
        class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden items-center justify-center p-4 opacity-0 transition-opacity duration-200">
        <div id="modal-window"
            class="bg-github-header border border-github-border rounded-lg w-full max-w-3xl shadow-2xl flex flex-col max-h-[85vh] scale-95 transition-transform duration-200">
            <!-- Modal Header -->
            <div class="p-4 border-b border-github-border flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <div
                        class="w-8 h-8 bg-github-accent/10 rounded flex items-center justify-center text-github-accent">
                        <i id="modal-header-icon" data-lucide="file-text" class="w-4 h-4"></i>
                    </div>
                    <div>
                        <h3 id="modal-title-text" class="text-sm font-semibold">Component</h3>
                        <p class="text-xs text-github-muted">Customize and copy to your README</p>
                    </div>
                </div>
                <button id="modal-close-btn"
                    class="p-1.5 hover:bg-github-btn rounded transition-colors text-github-muted hover:text-github-text">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>

            <!-- Modal Body -->
            <div class="flex-1 overflow-hidden flex flex-col lg:flex-row">
                <!-- Editor -->
                <div class="w-full lg:w-1/2 p-4 flex flex-col gap-4 border-r border-github-border">
                    <!-- Badge Controls (hidden by default) -->
                    <div id="badge-controls" class="hidden space-y-4">
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="text-xs text-github-muted block mb-1">Label</label>
                                <input type="text" id="input-badge-label" placeholder="Build"
                                    class="w-full bg-github-canvas border border-github-border rounded px-2 py-1.5 text-sm outline-none focus:border-github-accent">
                            </div>
                            <div>
                                <label class="text-xs text-github-muted block mb-1">Value</label>
                                <input type="text" id="input-badge-value" placeholder="Passing"
                                    class="w-full bg-github-canvas border border-github-border rounded px-2 py-1.5 text-sm outline-none focus:border-github-accent">
                            </div>
                        </div>
                        <div class="grid grid-cols-3 gap-3">
                            <div>
                                <label class="text-xs text-github-muted block mb-1">Color</label>
                                <input type="color" id="input-badge-color" value="#238636"
                                    class="w-full h-8 bg-github-canvas border border-github-border rounded cursor-pointer p-0.5">
                            </div>
                            <div>
                                <label class="text-xs text-github-muted block mb-1">Label Color</label>
                                <input type="color" id="input-badge-label-color" value="#555555"
                                    class="w-full h-8 bg-github-canvas border border-github-border rounded cursor-pointer p-0.5">
                            </div>
                            <div>
                                <label class="text-xs text-github-muted block mb-1">Style</label>
                                <select id="input-badge-style"
                                    class="w-full bg-github-canvas border border-github-border rounded px-2 py-1.5 text-sm outline-none cursor-pointer">
                                    <option value="for-the-badge">For the Badge</option>
                                    <option value="flat">Flat</option>
                                    <option value="flat-square">Flat Square</option>
                                    <option value="plastic">Plastic</option>
                                    <option value="social">Social</option>
                                </select>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="text-xs text-github-muted block mb-1">Logo (Simple Icons)</label>
                                <input type="text" id="input-badge-logo" placeholder="e.g. github, typescript"
                                    class="w-full bg-github-canvas border border-github-border rounded px-2 py-1.5 text-sm outline-none focus:border-github-accent">
                            </div>
                            <div>
                                <label class="text-xs text-github-muted block mb-1">Logo Color</label>
                                <input type="text" id="input-badge-logo-color" placeholder="white"
                                    class="w-full bg-github-canvas border border-github-border rounded px-2 py-1.5 text-sm outline-none focus:border-github-accent">
                            </div>
                        </div>
                    </div>

                    <div class="flex-1 flex flex-col">
                        <label class="text-xs text-github-muted mb-1">Markdown</label>
                        <textarea id="input-modal-markdown"
                            class="flex-1 w-full bg-github-canvas border border-github-border rounded p-3 font-mono text-sm outline-none focus:border-github-accent resize-none custom-scrollbar min-h-[200px]"
                            spellcheck="false"></textarea>
                    </div>
                </div>

                <!-- Preview -->
                <div class="w-full lg:w-1/2 p-4 bg-github-canvas/50 overflow-y-auto custom-scrollbar">
                    <label class="text-xs text-github-muted mb-2 block">Preview</label>
                    <div id="output-modal-preview"
                        class="p-4 bg-github-canvas border border-github-border rounded markdown-body min-h-[200px]">
                        <!-- Dynamic content -->
                    </div>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="p-4 border-t border-github-border flex justify-end">
                <button id="action-modal-copy"
                    class="flex items-center gap-2 px-4 py-2 bg-github-success hover:brightness-110 text-white rounded-md text-sm font-medium transition-all">
                    <i data-lucide="copy" class="w-4 h-4"></i>
                    Copy to Clipboard
                </button>
            </div>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast-ui"
        class="fixed bottom-6 left-1/2 -translate-x-1/2 px-4 py-2.5 bg-github-header border border-github-border rounded-lg shadow-xl z-[200] flex items-center gap-2 transform translate-y-full opacity-0 transition-all duration-300 pointer-events-none">
        <i data-lucide="check-circle" class="w-4 h-4 text-github-success"></i>
        <span id="toast-ui-msg" class="text-sm">Saved</span>
    </div>

    <!-- Floating Toolbar -->
    <div id="format-toolbar"
        class="fixed hidden bg-github-header border border-github-border rounded shadow-xl p-1 z-[100] flex gap-1 opacity-0 transition-opacity duration-200">
        <button data-format="bold"
            class="p-1.5 hover:bg-github-btn rounded text-github-muted hover:text-github-text transition-colors"
            title="Bold">
            <i data-lucide="bold" class="w-4 h-4"></i>
        </button>
        <button data-format="italic"
            class="p-1.5 hover:bg-github-btn rounded text-github-muted hover:text-github-text transition-colors"
            title="Italic">
            <i data-lucide="italic" class="w-4 h-4"></i>
        </button>
        <button data-format="inline-code"
            class="p-1.5 hover:bg-github-btn rounded text-github-muted hover:text-github-text transition-colors"
            title="Inline Code">
            <i data-lucide="code" class="w-4 h-4"></i>
        </button>
        <button data-format="link"
            class="p-1.5 hover:bg-github-btn rounded text-github-muted hover:text-github-text transition-colors"
            title="Link">
            <i data-lucide="link" class="w-4 h-4"></i>
        </button>
    </div>

    <!-- Scripts -->
    <script src="utils.js"></script>
    <script src="app.js"></script>
</body>

</html>